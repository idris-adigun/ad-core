<div class="payment-details">
  <div *ngIf="!isLoaded">
    <mat-progress-bar mode="indeterminate"></mat-progress-bar>
  </div>
  <h2 mat-dialog-title>Add Payment</h2>
  <mat-dialog-content class="mat-typography">
    <form [formGroup]="paymentForm" class="payment-form">
      <mat-form-field appearance="outline">
        <mat-label>First Name</mat-label>
        <input matInput formControlName="payee_first_name" required />
      </mat-form-field>

      <mat-form-field appearance="outline">
        <mat-label>Last Name</mat-label>
        <input matInput formControlName="payee_last_name" required />
      </mat-form-field>

      <mat-form-field appearance="outline">
        <mat-label>Email</mat-label>
        <input matInput formControlName="payee_email" required />
      </mat-form-field>

      <mat-form-field appearance="outline">
        <mat-label>Address Line 1</mat-label>
        <input matInput formControlName="payee_address_line_1" required />
      </mat-form-field>

      <mat-form-field appearance="outline">
        <mat-label>Address Line 2</mat-label>
        <input matInput formControlName="payee_address_line_2" />
      </mat-form-field>

      <mat-form-field appearance="outline">
        <mat-label>Country</mat-label>
        <mat-select formControlName="payee_country" required>
          <mat-option
            *ngFor="let country of countries"
            [value]="country?.name?.common"
          >
            {{ country?.name?.common }}
          </mat-option>
        </mat-select>
      </mat-form-field>

      <mat-form-field appearance="outline">
        <mat-label>City</mat-label>
        <input matInput formControlName="payee_city" required />
      </mat-form-field>

      <mat-form-field appearance="outline">
        <mat-label>Postal Code</mat-label>
        <input matInput formControlName="payee_postal_code" required />
      </mat-form-field>

      <mat-form-field appearance="outline">
        <mat-label>Currency</mat-label>
        <input matInput formControlName="currency" required />
      </mat-form-field>

      <mat-form-field appearance="outline">
        <mat-label>Discount Percent</mat-label>
        <input
          matInput
          formControlName="discount_percent"
          type="number"
          required
        />
      </mat-form-field>

      <mat-form-field appearance="outline">
        <mat-label>Due Amount</mat-label>
        <input matInput formControlName="due_amount" type="number" required />
      </mat-form-field>

      <mat-form-field appearance="outline">
        <mat-label>Added Date</mat-label>
        <input
          matInput
          [matDatepicker]="addedDatePicker"
          formControlName="payee_added_date_utc"
          required
          (focus)="addedDatePicker.open()"
          [max]="maxDate"
        />
        <mat-datepicker-toggle
          matSuffix
          [for]="addedDatePicker"
        ></mat-datepicker-toggle>
        <mat-datepicker #addedDatePicker></mat-datepicker>
      </mat-form-field>

      <mat-form-field appearance="outline">
        <mat-label>Due Date</mat-label>
        <input
          matInput
          [matDatepicker]="dueDatePicker"
          formControlName="payee_due_date"
          (focus)="dueDatePicker.open()"
          [min]="maxDate"
          required
        />
        <mat-datepicker-toggle
          matSuffix
          [for]="dueDatePicker"
        ></mat-datepicker-toggle>
        <mat-datepicker #dueDatePicker></mat-datepicker>
      </mat-form-field>

      <mat-form-field appearance="outline">
        <mat-label>Payment Status</mat-label>
        <mat-select formControlName="payee_payment_status" required>
          <mat-option *ngFor="let status of payment_status" [value]="status">
            {{ status }}
          </mat-option>
        </mat-select>
      </mat-form-field>

      <mat-form-field appearance="outline">
        <mat-label>Phone Number</mat-label>
        <input matInput formControlName="payee_phone_number" required />
      </mat-form-field>

      <mat-form-field appearance="outline">
        <mat-label>Province/State</mat-label>
        <input matInput formControlName="payee_province_or_state" required />
      </mat-form-field>

      <mat-form-field appearance="outline">
        <mat-label>Tax Percent</mat-label>
        <input matInput formControlName="tax_percent" type="number" required />
      </mat-form-field>

      <button mat-button type="submit" [disabled]="!paymentForm.valid">
        Submit
      </button>
    </form>
  </mat-dialog-content>
</div>
